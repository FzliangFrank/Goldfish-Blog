{
  "hash": "0fd96480d6439eefd938a3978a265744",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Public Funding for Artificial Intelligence\"\nformat: revealjs\ndf-print: kable\n---\n\n::: {.cell}\n\n:::\n\n\n------------------------------------------------------------------------\n\n## Overview{.smaller}\n\n:::: {.columns}\n\n::: {.column width=\"65%\"}\n\n-   Walk you through of **exploratory text analysis** for research england (UKRI Research and Innovation), which can access this from my [GitHub Page](https://fzliangfrank.github.io/invest-ai-ukri/03.html)\n\n![all code avaible on this github page](figures/fig-welcome.png)\n\n:::\n\n::: {.column width=\"35%\"}\n\n::: {.incremental}\n\n-   Some text analysis. Include usage of \"Topic Model\"\n-   Sharing some insights\n-   Discuss potential of this analytic for researchers and funding bodies.\n\n:::\n\n:::\n\n::::\n\n::: notes\nThank you for your invitation for the interview. As part of the interviewing process, I produced a sample of **exploratory text** analysis for research england (UKRI Research and Innovation). Hosted as a github page. This analysis use \"Topic Modeling\" to analysis project description field funded AI researches.\n\nI'm going to share some of the insight and discuss potential usage for this analysis m\n:::\n\n# Data Source {background-image=\"figures/background-getting-data.png\" background-opacity=0.3}\n\n## Data Source: GTR Project Description\n\n::: columns\n::: {.column width=\"0.5\"}\n![Search term \"aritificial intelligence\" has option to download csv](figures/fig-prj-desc.png)\n:::\n\n::: {.column width=\"0.5\"}\n\n**The Data**\n\n- 5175 project descriptions contains term \"artificial-intelligence\" can be accessed \nusing GtR api\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 12px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> id </th>\n   <th style=\"text-align:left;\"> abstractText </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> FB05923A-042B-4277-AC29-67C973193C09 </td>\n   <td style=\"text-align:left;\"> My PhD project addresses the important issue of how tensors (multidimensional data structures) can be employed for making sense of Big Data recorded across numerous domains in today's connected world. Namely, the proliferation of big, multidimensional data has created an ever-growing demand for innovative techniques to process such data in a computationally efficient and physically meaningful w... </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> E01EBC26-C27E-449B-ABEC-937373F604A9 </td>\n   <td style=\"text-align:left;\"> Proteins are the workhorses of the cell, but despite significant advances in our understanding of the physical and chemical principles underlying their structures and functions, one fundamental property - protein mechanics - remains poorly understood. Mechanical forces are involved in varied biological processes such as force-bearing proteins in the muscle and tension upon chromosomes separatio... </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n:::\n\n::: notes\nFor the analysis, I gathered about 5175 project descriptions from \"the Gateway of Research\" website. The \"Gateway of Research\" is a website which let you search details about public founded research projects. In additional to project description, it also allows you to gather other project information such as time, it has been funded, or how much has been awarded.\n\n(a picture of website and a table)\n\nDescription of project can be called using GTR website, the rest data I can downloading using the download button\n:::\n\n## Data Source: Additional Meta Data\n\n::: columns\n::: {.column width=\"0.5\"}\n![Search term \"aritificial intelligence\" has option to download csv](figures/Screenshot%202024-03-03%20at%2015.51.38.png)\n:::\n\n::: {.column width=\"0.5\"}\n### The Data {.smaller}\n\nBy just search website\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 12px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Title </th>\n   <th style=\"text-align:left;\"> FundingOrgName </th>\n   <th style=\"text-align:left;\"> ProjectReference </th>\n   <th style=\"text-align:left;\"> LeadROName </th>\n   <th style=\"text-align:left;\"> Department </th>\n   <th style=\"text-align:left;\"> ProjectCategory </th>\n   <th style=\"text-align:left;\"> StartDate </th>\n   <th style=\"text-align:left;\"> EndDate </th>\n   <th style=\"text-align:right;\"> AwardPounds </th>\n   <th style=\"text-align:right;\"> ExpenditurePounds </th>\n   <th style=\"text-align:left;\"> Region </th>\n   <th style=\"text-align:left;\"> Status </th>\n   <th style=\"text-align:left;\"> id </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;width: 800px; \"> Unravelling Enter... </td>\n   <td style=\"text-align:left;\"> BBSRC </td>\n   <td style=\"text-align:left;\"> BB/W020491/1 </td>\n   <td style=\"text-align:left;\"> Animal and Plant Health Agency </td>\n   <td style=\"text-align:left;\"> Food and Environmental Safety </td>\n   <td style=\"text-align:left;\"> Research Grant </td>\n   <td style=\"text-align:left;\"> 2022-05-17 </td>\n   <td style=\"text-align:left;\"> 2023-07-17 </td>\n   <td style=\"text-align:right;\"> 200860 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> North West </td>\n   <td style=\"text-align:left;\"> Closed </td>\n   <td style=\"text-align:left;\"> A25812AC-5977-4AA5-BE67-63D335DEE63E </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 800px; \"> Artificial Intell... </td>\n   <td style=\"text-align:left;\"> Innovate UK </td>\n   <td style=\"text-align:left;\"> 105048 </td>\n   <td style=\"text-align:left;\"> CATCHAPP LTD </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> Feasibility Studies </td>\n   <td style=\"text-align:left;\"> 2019-04-01 </td>\n   <td style=\"text-align:left;\"> 2019-12-31 </td>\n   <td style=\"text-align:right;\"> 78057 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> London </td>\n   <td style=\"text-align:left;\"> Closed </td>\n   <td style=\"text-align:left;\"> 1B765215-F6C4-4773-A1B6-8089729A82AE </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 800px; \"> Classifying Advan... </td>\n   <td style=\"text-align:left;\"> Innovate UK </td>\n   <td style=\"text-align:left;\"> 84000 </td>\n   <td style=\"text-align:left;\"> DIGITAL INTERRUPTION LIMITED </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> Collaborative R&amp;D </td>\n   <td style=\"text-align:left;\"> 2020-11-01 </td>\n   <td style=\"text-align:left;\"> 2021-04-30 </td>\n   <td style=\"text-align:right;\"> 95138 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> North West </td>\n   <td style=\"text-align:left;\"> Closed </td>\n   <td style=\"text-align:left;\"> F0ACB6F0-01A9-4367-9867-04632E97F6B3 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n-   Project Start Date\n-   Award amount (Â£)\n\n:::\n\n:::\n\n## Data Quality\n\n<!-- Load pre saved datas -->\n\n``` r\ngtr_desc = read_parquet(\"data/gtr.parquet\") |> \n  select(id, abstractText) ## I've saved downloaded data into a parquet file\ngtr_meta = read_csv(\"data/projectsearch-1709481069771.csv\") |> \n  mutate(across(ends_with(\"Date\"), ~as.Date(.x,\"%d/%m/%Y\"))) |> \n  rename(id=ProjectId)\n```\n\n::: columns\n::: column\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 12px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Title </th>\n   <th style=\"text-align:left;\"> FundingOrgName </th>\n   <th style=\"text-align:left;\"> ProjectReference </th>\n   <th style=\"text-align:left;\"> LeadROName </th>\n   <th style=\"text-align:left;\"> Department </th>\n   <th style=\"text-align:left;\"> ProjectCategory </th>\n   <th style=\"text-align:left;\"> StartDate </th>\n   <th style=\"text-align:left;\"> EndDate </th>\n   <th style=\"text-align:right;\"> AwardPounds </th>\n   <th style=\"text-align:right;\"> ExpenditurePounds </th>\n   <th style=\"text-align:left;\"> Region </th>\n   <th style=\"text-align:left;\"> Status </th>\n   <th style=\"text-align:left;\"> id </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;width: 800px; \"> Unravelling Enter... </td>\n   <td style=\"text-align:left;\"> BBSRC </td>\n   <td style=\"text-align:left;\"> BB/W020491/1 </td>\n   <td style=\"text-align:left;\"> Animal and Plant Health Agency </td>\n   <td style=\"text-align:left;\"> Food and Environmental Safety </td>\n   <td style=\"text-align:left;\"> Research Grant </td>\n   <td style=\"text-align:left;\"> 2022-05-17 </td>\n   <td style=\"text-align:left;\"> 2023-07-17 </td>\n   <td style=\"text-align:right;\"> 200860 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> North West </td>\n   <td style=\"text-align:left;\"> Closed </td>\n   <td style=\"text-align:left;\"> A25812AC-5977-4AA5-BE67-63D335DEE63E </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 800px; \"> Artificial Intell... </td>\n   <td style=\"text-align:left;\"> Innovate UK </td>\n   <td style=\"text-align:left;\"> 105048 </td>\n   <td style=\"text-align:left;\"> CATCHAPP LTD </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> Feasibility Studies </td>\n   <td style=\"text-align:left;\"> 2019-04-01 </td>\n   <td style=\"text-align:left;\"> 2019-12-31 </td>\n   <td style=\"text-align:right;\"> 78057 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> London </td>\n   <td style=\"text-align:left;\"> Closed </td>\n   <td style=\"text-align:left;\"> 1B765215-F6C4-4773-A1B6-8089729A82AE </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;width: 800px; \"> Classifying Advan... </td>\n   <td style=\"text-align:left;\"> Innovate UK </td>\n   <td style=\"text-align:left;\"> 84000 </td>\n   <td style=\"text-align:left;\"> DIGITAL INTERRUPTION LIMITED </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> Collaborative R&amp;D </td>\n   <td style=\"text-align:left;\"> 2020-11-01 </td>\n   <td style=\"text-align:left;\"> 2021-04-30 </td>\n   <td style=\"text-align:right;\"> 95138 </td>\n   <td style=\"text-align:right;\"> NA </td>\n   <td style=\"text-align:left;\"> North West </td>\n   <td style=\"text-align:left;\"> Closed </td>\n   <td style=\"text-align:left;\"> F0ACB6F0-01A9-4367-9867-04632E97F6B3 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::: column\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 12px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> id </th>\n   <th style=\"text-align:left;\"> abstractText </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> FB05923A-042B-4277-AC29-67C973193C09 </td>\n   <td style=\"text-align:left;\"> My PhD project addresses the important issue of how tensors (multidimensional data structures) can be employed for making sense of Big Data recorded across numerous domains in today's connected world. Namely, the proliferation of big, multidimensional data has created an ever-growing demand for innovative techniques to process such data in a computationally efficient and physically meaningful w... </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> E01EBC26-C27E-449B-ABEC-937373F604A9 </td>\n   <td style=\"text-align:left;\"> Proteins are the workhorses of the cell, but despite significant advances in our understanding of the physical and chemical principles underlying their structures and functions, one fundamental property - protein mechanics - remains poorly understood. Mechanical forces are involved in varied biological processes such as force-bearing proteins in the muscle and tension upon chromosomes separatio... </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n:::\n\nOf the two data source\n\n-   For 5175 projects, only 4453 can link together that is\n-   Project description can contain duplicates\n\n# Data Quality - Duplicated Project\n\n## Duplicated Due to Project Migration {.smaller}\n\n\n::: {.cell}\n\n:::\n\n\nSpecific to this analysis is some projects can migrate from one to another. When this happens the `ProjectReference`. 97 of these will need taken out.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 20px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> ProjectReference </th>\n   <th style=\"text-align:left;\"> LeadROName </th>\n   <th style=\"text-align:left;\"> Title </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> ES/R00983X/1 </td>\n   <td style=\"text-align:left;\"> University of the West of England </td>\n   <td style=\"text-align:left;\"> The 'risk of risk': remodelling artificial intelligence algorithms for predicting child abuse. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ES/R00983X/2 </td>\n   <td style=\"text-align:left;\"> Aston University </td>\n   <td style=\"text-align:left;\"> The 'risk of risk': remodelling artificial intelligence algorithms for predicting child abuse. </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nBelow is the code for taking out the duplicate\n\n``` {.r code-line-numbers=\"6,11-16,36\"}\ngtr_desc = read_parquet(\"data/gtr.parquet\") |> \n  select(id, abstractText)\ngtr_meta = read_csv(\"data/projectsearch-1709481069771.csv\") |> \n  mutate(across(ends_with(\"Date\"), ~as.Date(.x,\"%d/%m/%Y\"))) |> \n  rename(id=ProjectId)\nPARTIAL_PTTN='(/[1-9])$'\n\n## waggle some columns for analytics\ngtr_pj = gtr_meta |>\n  mutate(\n    is_partial = str_detect(ProjectReference, PARTIAL_PTTN),\n    project_ref = str_replace(ProjectReference,PARTIAL_PTTN,\"\"),\n    part = str_extract(ProjectReference, PARTIAL_PTTN) |> \n      str_extract(\"\\\\d+\") |> \n      as.numeric() |> \n      coalesce(0)\n  ) |> \n  # filter(is_partial) |> \n  group_by(project_ref) |>\n  mutate(occurance = n()) |> \n  ungroup() |> \n  dplyr::relocate(ProjectReference, FundingOrgName, LeadROName, id, \n           is_partial,project_ref,part,occurance)\n\n## early stop if this is no longer true\nstopifnot(\n  \"Project Reference is NOT Unique!\"=length(unique(gtr_pj$ProjectReference)) == nrow(gtr_pj),\n  \"Project Refrence contain NA!\"=!any(is.na(gtr_pj$ProjectReference))\n)\n\n## find out about \nunique_prj = gtr_pj |>\n  relocate(ProjectReference, project_ref, id) |> \n  group_by(project_ref) |> \n  mutate(rn=row_number()) |> \n  filter(rn==1) |> \n  select(-rn) |> \n  ungroup()\n  \n  \n  \n```\n\n## Additional Duplicate {.smaller .scrollable}\n\nAdditional\\\n669 of duplicates were fund in the descriptions.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 20px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> ProjectReference </th>\n   <th style=\"text-align:left;\"> abstractText </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 310175 </td>\n   <td style=\"text-align:left;\"> Awaiting Public Project Summary </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 640016 </td>\n   <td style=\"text-align:left;\"> Awaiting Public Project Summary </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> EP/X030210/1 </td>\n   <td style=\"text-align:left;\"> The European microelectronics (ME) industry has a direct impact on approximately 20% of the European GDP and employs over 250,000 people, with more than 64,000 job vacancies. The main technological... </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 84293 </td>\n   <td style=\"text-align:left;\"> Abstracts are not currently available in GtR for all funded research. This is normally because the abstract was not required at the time of proposal submission, but may be because it included sensi... </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> EP/X030148/1 </td>\n   <td style=\"text-align:left;\"> The European microelectronics (ME) industry has a direct impact on approximately 20% of the European GDP and employs over 250,000 people, with more than 64,000 job vacancies. The main technological... </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 73602 </td>\n   <td style=\"text-align:left;\"> no public description </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nTreatment for these is taken them out all together\n\n``` {.r code-line-numbers=\"10\"}\n## find out with text other than continuous project are repeated\nrepeated_text = gtr_desc |> \n  group_by(abstractText) |> \n  mutate(n=n()) |> \n  filter(n!=1) |>\n  arrange(abstractText)\n\n## Take the repeated test one out for now.\nanalysis_prj = unique_prj |> \n  anti_join(repeated_text, by=\"id\") |> \n  mutate(year = lubridate::year(StartDate)) |>\n  inner_join(gtr_desc, by=\"id\")\n```\n\n## Data Reserved for Analysis {.smaller}\n\nAltogether this give us 3973 of rows for analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"code for balance check\"}\nno_match = unique_prj |> \n  anti_join(repeated_text, by=\"id\") |> \n  anti_join(gtr_desc,by=\"id\")\n\ndiscrpency = tibble::tribble(\n  ~\"observation\", ~\"number of row\",\n  \"Total Number of gtr_meta data\", nrow(gtr_meta),\n  \"Less project migration\",-n_takeout,\n  \"Taken out \",- nrow(repeated_text |> semi_join(unique_prj,\"id\")),\n  \"Won't have match to discription\",-nrow(no_match)\n)\n\nstopifnot(\"Discrepency Don't Add Up!\"=nrow(analysis_prj)==sum(discrpency$`number of row`))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"font-size: 20px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> observation </th>\n   <th style=\"text-align:right;\"> number of row </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Total Number of gtr_meta data </td>\n   <td style=\"text-align:right;\"> 5175 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Less project migration </td>\n   <td style=\"text-align:right;\"> -97 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Taken out </td>\n   <td style=\"text-align:right;\"> -389 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Won't have match to discription </td>\n   <td style=\"text-align:right;\"> -716 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Total </td>\n   <td style=\"text-align:right;\"> 3973 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n# Analysis {background-image=\"figures/background-analysis.png\" background-opacity=0.3}\n\n## Project Trend Overview {auto-animate=true}\n\n::: {.r-hstack}\n![](figures/fig-trend.png){width=\"90%\"}\n\n![](figures/fig-word-trend.png){width=\"90%\"}\n\n:::\n\n![](figures/fig-elite-project.png){width=\"45%\"}\n\n\n\n## Keyword Mentions {auto-animate=true}\n\n:::: {.columns}\n\n::: {.column width=\"0.65\"}\n\n![](figures/fig-word-trend.png){width=\"90%\"}\n\n```{.r code-line-numbers=\"3\"}\n## digest paragram into words\ntitle_word_by_year = analysis_prj |> \n  tokenize_words_group(title, year)\n  \n## visualisation \ntitle_word_by_year |> \n  plt_style_change(\n  ...\n```\n\n:::\n\n::: {.column width=\"0.35\"}\n\n```{.r code-line-numbers=\"2,5-11\"}\n## function for tokenise target fiel\ntokenize_words_group = function(df, col, group_col) {\n  df |>\n    # preserve chained keywords\n    mutate(text_field = str_replace({{col}}, \n                                    '(A|a)rtificial (I|i)ntelligence', \n                                    'artificialintelligence') |> \n             str_replace(\"machine learning\",\n                         'machinelearning')\n           ) |> \n    unnest_tokens(word,text_field, token=\"words\") |> \n    anti_join(stop_words,\"word\") |> \n    mutate(word=str_replace(word,'artificialintelligence','artificial-intelligence') |> \n             str_replace('machinelearning','machin-learning')\n           ) |> \n    group_by(word, {{group_col}}) |> \n    summarise(n_prj = length(unique(ProjectId)), .groups=\"drop\" ) |> \n    arrange(desc({{group_col}}),desc(n_prj)) |> \n    ungroup()\n}\n```\n\n:::\n\n:::: \n\n::: aside\nnext plot to zoom in \n:::\n\n## Insights {auto-animate=true}\n![](figures/fig-word-trend.png){width=\"90%\"}\n\n\n# Topic Modeling {background-image=\"figures/cover-tm.png\" background-opacity=0.3}\n\n\n## What is Topic Modeling\n\n- The process of Extracting Themes from large document\n- Frist step in topic modeling is convert text into *document-term matrix*\n- Topic Model Algorithm such as LDA compares similarity between document by comparing propotion word frequencies.\n\n![](figures/topic-model.png){width=\"90%\"}\n\n\n## On Our Data{.smaller .scrollable}\n\n:::: {.columns}\n\nApply these description data our topic, and take 10 topics out.\n\n::: {.column width=\"0.5\"}\n```{.r}\n\n## word count histogram\nabstract_words = analysis_prj |> \n  unnest_tokens(word,abstractText) |> \n  anti_join(stop_words)\n  \n## word count\nabstract_word_count = abstract_words |> \n  count(word,id,sort=T)\n  \n## create document term matrix\ngtr_dtm = abstract_word_count |> \n    cast_dtm(id,word,n)\n    \n## create alda modeling\ntopics = gtr_dtm |> topicmodels::LDA(k=10)\n```\n\n:::\n\n::: {.column width=\"0.5\"}\n\n\n::: {.cell}\n\n:::\n\n\n\n**beta**\n\n::: {.cell}\n\n```{.r .cell-code}\nbeta = topics |> tidy(\"beta\")\n\nbeta |> \n  head(3) |> \n  kbl2()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 12px; \">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> topic </th>\n   <th style=\"text-align:left;\"> term </th>\n   <th style=\"text-align:right;\"> beta </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> amp </td>\n   <td style=\"text-align:right;\"> 0.0027870 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> amp </td>\n   <td style=\"text-align:right;\"> 0.0004771 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> amp </td>\n   <td style=\"text-align:right;\"> 0.0000829 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n**gamma**\n\n::: {.cell}\n\n```{.r .cell-code}\ngamma = topics |> tidy(\"gamma\")\n\ngamma |> \n  head(3) |> \n  kbl2()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 12px; \">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> document </th>\n   <th style=\"text-align:right;\"> topic </th>\n   <th style=\"text-align:right;\"> gamma </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 7D030DE3-A4B9-45B9-8C32-04A4C246E933 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.6638977 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 848C12F5-FE3A-442E-A13C-E796468A3396 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.0001376 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> C2A76562-29C1-4CD1-BEDE-2AD2E56BDC78 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.0001244 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n## Helper: Understand `beta` & `gamma` {.smaller}\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n Sum of **beta** for each **topic** equal 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsum_beta=beta |> \n  group_by(topic) |> \n  summarise(n=sum(beta))\n\nstopifnot(all(round(sum_beta$n,2) ==1.00))\nsum_beta |> kbl2()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 12px; \">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> topic </th>\n   <th style=\"text-align:right;\"> n </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\nSum of **gamma** for each **document** equal 1\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Sum of gamma for each document equal 1\"}\nsum_gamma=gamma |> \n  group_by(document) |> \n  summarise(n=sum(gamma))\n\nstopifnot(all(round(sum_gamma$n,2) ==1.00))\nsum_gamma |> \n  head(2) |> \n  kbl2()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"font-size: 12px; \">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> document </th>\n   <th style=\"text-align:right;\"> n </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 000B1EC5-8655-498F-A9E3-AF5A173AD61F </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 000FBDEE-B3A9-43BB-A055-6F6ADF9FC292 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n## Topic Against Funding Type\n\n```{.r code-line-numbers=\"2-4\"}\n## finding the most representative gamma\ntopic_binded = topics |> \n  tidy(\"gamma\") |> \n  filter(gamma > 0.8) |> # 0.8 is a number we can be sure there is only one topic\n                         # for one document\n  rename(id=document) |> \n  left_join(analysis_prj, \"id\")\n\n## creating graphics\ntopic_binded |>\n  select(topic, ProjectCategory) |>\n  mutate(topic_chr=fct_inorder(as.character(topic)) ) |> \n  complete(topic_chr,ProjectCategory) |> \n  ggplot() + \n  geom_bin2d(aes(x=topic_chr, y = ProjectCategory)) +\n  theme_minimal() +\n  scale_fill_viridis_c(option = \"F\",trans=\"sqrt\") +\n  ggtitle(\"Topic Against Porject Category\") +\n  coord_equal()\n```\n\n\n::: notes\nOne thing we can do is for each topic, selecting gamma higher than 0.8\n:::\n\n## Topic Against Funding Type {auto-animate=true .scrollable}\n\n![](figures/fig-topic-vs-category.png)\n\n\n::: notes\nThe topic modeling are in fact picking up different types of topics. Particularly âStudentshipâ is extracted as topic 2, âCollaborative R & Dâ is almost exclusively extracted as topic 10.\n\n:::\n\n**Topic 2 & 10**\n\n::: {.panel-tabset}\n\n### Topic 2\n\n![](figures/fig-topic2.png)\n\n\n### Topic 10\n\n![](figures/fig-topic10.png)\n\n:::\n\n\n::: notes\ntopic 3 seems to be describe about âmachine learningâ. One of the hot words. It makes no surprise that some how related to student ship.\n\ntopic 8, topic 9 both are very scientific. As we can see the description are very scientific and specific to particular field.\n:::\n\n\n# Potential Usage\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}